!function(){"use strict";var e={remarkable(){let e={indent_size:2};return new window.Remarkable("full",{linkify:!0,linkTarget:"",typographer:!1,langPrefix:"language-",highlight(n,r){if(n=window.hasOwnProperty(`${r}_beautify`)?window[`${r}_beautify`](n,e):n,r&&window.Prism.languages[r])try{return`<pre class="language-${r}"><code class="language-${r}">${window.Prism.highlight(n,window.Prism.languages[r],r)}</code></pre>`}catch(e){console.log(e)}return'<pre class="language-shell"><code>'+n+"</code></pre>"}})},render(e){return this.remarkable().render(e)}};const n=["codepen.io","gist.github.com","jsfiddle.net","codesandbox.io"],r=new RegExp(`(https://)?(${n.join("|")})(/.+)?`,"g");var t={playgrounds:n,hasPlayground(e){const n=e.match(r);return!(!n||!n.length)&&n.filter(e=>this.playgrounds.filter(n=>e.includes(n)).length)},generateFrames(e,n){let t=e.match(r)[0];if(t.includes("jsfiddle.net")&&!/embedded\b/.test(t)){t+=`${"/"===t.substring(t.length-1)?"":"/"}embedded`}const o=document.createElement("iframe");return o.src=t,o.allowPaymentRequest=!0,o.allowFullscreen=!0,o.width="100%",o.height=400,o.frameBorder=0,o}};Element.prototype.remove=function(){this.parentElement.removeChild(this)},window.$cff={extractContentPost(e){this.removeLinkSeeMore(e);let n=e.innerText,r=e.querySelectorAll(".text_exposed_show");return r.length&&(n+=r=Array.from(r).map(e=>{let n=e.querySelectorAll("p");return n.length?Array.from(n).map(e=>e.innerText).join("\n\n"):e.innerText}).join("\n\n")),n},removeLinkSeeMore(e){let n=e.querySelectorAll(".text_exposed_hide");n.length&&n.forEach(e=>{e.remove()})},clearPost(e){e.innerHTML=""},createBlock(e,n=!1){let r=document.createElement("div");return r.className="cff",n?r.appendChild(e):(r.innerHTML=e,r)},inject(e,n){e.appendChild(n)},markdown:e,playground:t},function(e){function n(e){let n=0;e.forEach(e=>{let r=e.querySelector(".userContent"),t=$cff.extractContentPost(r);$cff.clearPost(r),$cff.playground.hasPlayground(t)&&(console.log("Playground found"),r.id=`post-block-${++n}`,$cff.inject(r,$cff.playground.generateFrames(t))),console.log("Playground not found"),$cff.inject(r,$cff.createBlock($cff.markdown.render(t)))})}$cff=e.$cff,n(document.querySelectorAll(".userContentWrapper")),function(){let e=new MutationObserver(e=>{e.forEach(e=>{n(e.addedNodes[0].querySelectorAll(".userContentWrapper"))})}),r=document.querySelector('#contentArea div[role="feed"]')||document.querySelector("#recent_capsule_container ol");e.observe(r,{childList:!0})}()}(window),console.info("CFF is Ready!")}();
