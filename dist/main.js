!function(){"use strict";var e={remarkable(){let e={indent_size:2};return new window.Remarkable("full",{linkify:!0,linkTarget:"",typographer:!1,langPrefix:"language-",highlight(t,r){if(t=window.hasOwnProperty(`${r}_beautify`)?window[`${r}_beautify`](t,e):t,r&&window.Prism.languages[r])try{return`<pre class="language-${r}"><code class="language-${r}">${window.Prism.highlight(t,window.Prism.languages[r],r)}</code></pre>`}catch(e){console.log(e)}return'<pre class="language-shell"><code>'+t+"</code></pre>"}})},render(e){return this.remarkable().render(e)}};const t=/(\$https)[\S]+/g;var r={playgrounds:["https://codepen.io","https://gist.github.com","https://jsfiddle.net","https://codesandbox.io/"],hasPlayground(e){const r=e.match(t);return!(!r||!r.length)&&r.filter(e=>this.playgrounds.filter(t=>e.includes(t)).length)},generateFrames(e,r){const n=e.match(t)[0].substring(1),o=document.createElement("iframe");return o.src=n,o.allowPaymentRequest=!0,o.allowFullscreen=!0,o.width="100%",o.height=400,o.frameBorder=0,o}};Element.prototype.remove=function(){this.parentElement.removeChild(this)},window.$cff={extractContentPost(e){this.removeLinkSeeMore(e);let t=e.innerText,r=e.querySelectorAll(".text_exposed_show");return r.length&&(t+=r=Array.from(r).map(e=>{let t=e.querySelectorAll("p");return t.length?Array.from(t).map(e=>e.innerText).join("\n\n"):e.innerText}).join("\n\n")),t},removeLinkSeeMore(e){let t=e.querySelectorAll(".text_exposed_hide");t.length&&t.forEach(e=>{e.remove()})},clearPost(e){e.innerHTML=""},createBlock(e,t=!1){let r=document.createElement("div");return r.className="cff",t?r.appendChild(e):(r.innerHTML=e,r)},inject(e,t){e.appendChild(t)},markdown:e,playground:r},function(e){function t(e){let t=0;e.forEach(e=>{let r=e.querySelector(".userContent"),n=$cff.extractContentPost(r);$cff.clearPost(r),$cff.playground.hasPlayground(n)&&(console.log("Playground found"),r.id=`post-block-${++t}`,$cff.inject(r,$cff.playground.generateFrames(n))),console.log("Playground not found"),$cff.inject(r,$cff.createBlock($cff.markdown.render(n)))})}$cff=e.$cff,t(document.querySelectorAll(".userContentWrapper")),function(){let e=new MutationObserver(e=>{e.forEach(e=>{t(e.addedNodes[0].querySelectorAll(".userContentWrapper"))})}),r=document.querySelector('#contentArea div[role="feed"]')||document.querySelector("#recent_capsule_container ol");e.observe(r,{childList:!0})}()}(window),console.info("CFF is Ready!")}();
